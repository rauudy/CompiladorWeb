{
    "rules": [
      {"pattern": "\\n+",                     "action": "yy.freshLine = true;"},
      {"pattern": "\\s+",                     "action": "yy.freshLine = false;"},
      {"pattern": "y\\{[^}]*\\}",             "action": "yytext = yytext.substr(2, yytext.length-3);return 'ACTION';"},
      {"pattern": "[a-zA-Z_][a-zA-Z0-9_-]*",  "action": "return 'NAME';"},
      {"pattern": "\"(?:[^\"]|\\\\\")*\"",      "action": "return 'STRING_LIT';"},
      {"pattern": "'(?:[^']|\\\\')*'",          "action": "return 'STRING_LIT';"},
      {"pattern": "\\|",                      "action": "return '|';"},
      {"pattern": "\\[(?:\\\\\\]|[^\\]])*\\]",  "action": "return 'ANY_GROUP_REGEX';"},
      {"pattern": "\\(",                      "action": "return '(';"},
      {"pattern": "\\)",                      "action": "return ')';"},
      {"pattern": "\\+",                      "action": "return '+';"},
      {"pattern": "\\*",                      "action": "return '*';"},
      {"pattern": "\\?",                      "action": "return '?';"},
      {"pattern": "\\^",                      "action": "return '^';"},
      {"pattern": "\\/",                      "action": "return '/';"},
      {"pattern": "\\\\[a-zA-Z0]",            "action": "return 'ESCAPE_CHAR';"},
      {"pattern": "\\$",                      "action": "return '$';"},
      {"pattern": "<<EOF>>",                  "action": "return '$';"},
      {"pattern": "\\.",                      "action": "return '.';"},
      {"pattern": "%%",                       "action": "return '%%';"},
      {"pattern": "\\{\\d+(?:,\\s?\\d+|,)?\\}", "action": "return 'RANGE_REGEX';"},
      {"pattern": "(?=\\{)",                  "action": "if(yy.freshLine){this.input('{');return '{';} else this.unput('y');"},
      {"pattern": "\\}",                      "action": "return '}';"},
      {"pattern": "%\\{(?:.|\\n)*?\\}%",        "action": "yytext = yytext.substr(2, yytext.length-4);return 'ACTION';"},
      {"pattern": ".",                        "action": "/* ignore bad characters */"},
      {"pattern": "$",                        "action": "return 'EOF';"}
    ]
}
